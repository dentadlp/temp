<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Advanced Client Installation &mdash; Netmaker 0.24.3 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/custom.css" type="text/css" />
      <link rel="stylesheet" href="_static/fonts.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Advanced Server Installation" href="server-installation.html" />
    <link rel="prev" title="Netclient" href="netclient.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            Netmaker
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="about.html">About</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="getting-started.html">Getting Started</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="install.html">Install</a></li>
<li class="toctree-l2"><a class="reference internal" href="manual-install.html">Manual Install</a></li>
<li class="toctree-l2"><a class="reference internal" href="netclient.html">Netclient</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Advanced Client Installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#introduction-to-netclient">Introduction to Netclient</a></li>
<li class="toctree-l3"><a class="reference internal" href="#note-on-mtu-settings">Note on MTU Settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="#notes-on-windows">Notes on Windows</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#running-netclient-commands">Running netclient commands</a></li>
<li class="toctree-l4"><a class="reference internal" href="#high-cpu-utilization">High CPU Utilization</a></li>
<li class="toctree-l4"><a class="reference internal" href="#changing-network-profile-to-private">Changing network profile to private</a></li>
<li class="toctree-l4"><a class="reference internal" href="#issue-after-windows-sleep-hibernate">Issue after Windows sleep/hibernate</a></li>
<li class="toctree-l4"><a class="reference internal" href="#irregular-netclient-restart-on-windows-2016-server">Irregular netclient restart on Windows 2016 server</a></li>
<li class="toctree-l4"><a class="reference internal" href="#event-id-0-in-windows-event-logs">Event id 0 in Windows Event logs</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#modes-and-system-compatibility">Modes and System Compatibility</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#cli">CLI</a></li>
<li class="toctree-l4"><a class="reference internal" href="#daemon">Daemon</a></li>
<li class="toctree-l4"><a class="reference internal" href="#private-dns-management">Private DNS Management</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#prerequisites">Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="#configuration">Configuration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#cli-reference">CLI Reference</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#installation">Installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#managing-netclient">Managing Netclient</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#connect-disconnect">Connect / Disconnect</a></li>
<li class="toctree-l4"><a class="reference internal" href="#viewing-logs">Viewing Logs</a></li>
<li class="toctree-l4"><a class="reference internal" href="#re-syncing-netclient-basic-troubleshooting">Re-syncing netclient (basic troubleshooting)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#adding-removing-networks">Adding/Removing Networks</a></li>
<li class="toctree-l4"><a class="reference internal" href="#uninstalling">Uninstalling</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="server-installation.html">Advanced Server Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="getting-started.html#setup">Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="getting-started.html#create-a-network">Create a Network</a></li>
<li class="toctree-l2"><a class="reference internal" href="getting-started.html#create-a-key">Create a Key</a></li>
<li class="toctree-l2"><a class="reference internal" href="getting-started.html#deploy-nodes">Deploy Nodes</a></li>
<li class="toctree-l2"><a class="reference internal" href="getting-started.html#manage-nodes-hosts">Manage Nodes/Hosts</a></li>
<li class="toctree-l2"><a class="reference internal" href="getting-started.html#uninstalling-the-netclient">Uninstalling the netclient</a></li>
<li class="toctree-l2"><a class="reference internal" href="getting-started.html#uninstalling-netmaker">Uninstalling Netmaker</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="features.html">Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="pro/index.html">Netmaker Professional</a></li>
<li class="toctree-l1"><a class="reference internal" href="upgrades.html">Upgrades</a></li>
<li class="toctree-l1"><a class="reference internal" href="how-to-guides.html">How-to-Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="references.html">References</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="conduct.html">Code of Conduct</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Netmaker</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="getting-started.html">Getting Started</a></li>
      <li class="breadcrumb-item active">Advanced Client Installation</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="advanced-client-installation">
<h1>Advanced Client Installation<a class="headerlink" href="#advanced-client-installation" title="Permalink to this headline"></a></h1>
<p>This document tells you how to install the netclient on machines that will be a part of your Netmaker network, as well as non-compatible systems.</p>
<p>These steps should be run after the Netmaker server has been created and a network has been designated within Netmaker.</p>
<section id="introduction-to-netclient">
<h2>Introduction to Netclient<a class="headerlink" href="#introduction-to-netclient" title="Permalink to this headline"></a></h2>
<p>At its heart, the netclient is a simple CLI for managing access to various WireGuard-based networks. It manages WireGuard on the host system, so that you don’t have to. Why is this necessary?</p>
<p>If you are setting up a WireGuard-based virtual network, you must configure each machine with very specific settings, so that every machine can reach it, and it can reach every other machine. Any changes to the settings of any one of these machines can break those connections. Any machine that is added, removed, or modified on the network requires reconfiguring of every peer in the network. This can be very time consuming.</p>
<p>The netmaker server holds configuration details about every machine in your network and how other machines should connect to it.</p>
<p>The netclient agent connects to the server, pushing and pulling information when the network (or its local configuration) changes.</p>
<p>The netclient agent then configures WireGuard (and other network properties) locally, so that the network stays intact.</p>
</section>
<section id="note-on-mtu-settings">
<h2>Note on MTU Settings<a class="headerlink" href="#note-on-mtu-settings" title="Permalink to this headline"></a></h2>
<p>IPv6 requires a minimum MTU of 1280. A lot of router configurations expect a standard MTU setting. You can adjust the MTU to whatever fits your needs, but setting the MTU below the standardized 1280 may cause wireguard to have issues when setting up interfaces with some systems like “Windows” for example.</p>
</section>
<section id="notes-on-windows">
<h2>Notes on Windows<a class="headerlink" href="#notes-on-windows" title="Permalink to this headline"></a></h2>
<p>If running the netclient on windows, you must download the netclient.exe binary and run it from Powershell as an Administrator.</p>
<p>Windows will by default have firewall rules that prevent inbound connections. If you wish to allow inbound connections from particular peers, use the following command:</p>
<p><code class="docutils literal notranslate"><span class="pre">netsh</span> <span class="pre">advfirewall</span> <span class="pre">firewall</span> <span class="pre">add</span> <span class="pre">rule</span> <span class="pre">name=&quot;Allow</span> <span class="pre">from</span> <span class="pre">&lt;peer</span> <span class="pre">private</span> <span class="pre">addr&gt;&quot;</span> <span class="pre">dir=in</span> <span class="pre">action=allow</span> <span class="pre">protocol=ANY</span> <span class="pre">remoteip=&lt;peer</span> <span class="pre">private</span> <span class="pre">addr&gt;</span></code></p>
<p>If you want to allow all peers access, but do not want to configure firewall rules for all peers, you can configure access for one peer, and set it as a Relay Server(Professional Edition Feature) from Netmaker GUI. In order to achieve this, netmaker pro edition is required.</p>
<section id="running-netclient-commands">
<h3>Running netclient commands<a class="headerlink" href="#running-netclient-commands" title="Permalink to this headline"></a></h3>
<p>If running the netclient manually (“netclient install”, “netclient join”, “netclient pull”) it should be run from outside of the installed directory, which will be either:</p>
<ul class="simple">
<li><p><cite>C:/Program Files/netclient</cite></p></li>
<li><p><cite>C:/ProgramData/netclient</cite></p></li>
</ul>
<p>It is better to call it from a different directory.</p>
</section>
<section id="high-cpu-utilization">
<h3>High CPU Utilization<a class="headerlink" href="#high-cpu-utilization" title="Permalink to this headline"></a></h3>
<p>With some versions of WireGuard on Windows, high CPU utilization has been found with the netclient. This is typically due to interaction with the WireGuard GUI component (app). If you’re experiencing high CPU utilization, close the WireGuard app. WireGuard will still be running, but the CPU usage should go back down to normal.</p>
</section>
<section id="changing-network-profile-to-private">
<h3>Changing network profile to private<a class="headerlink" href="#changing-network-profile-to-private" title="Permalink to this headline"></a></h3>
<p>By default the netmaker network profile is added as a public network. This is the default behavior on Windows. For changing it to private, please run Powershell command,</p>
<ul class="simple">
<li><p><cite>Set-NetConnectionProfile -InterfaceAlias ‘netmaker’ -NetworkCategory ‘Private’</cite></p></li>
</ul>
</section>
<section id="issue-after-windows-sleep-hibernate">
<h3>Issue after Windows sleep/hibernate<a class="headerlink" href="#issue-after-windows-sleep-hibernate" title="Permalink to this headline"></a></h3>
<p>Sometimes the netclient does not work after the Windows wake up from sleep/hibernate. The root cause is not identified.  Restarting netclient service can fix the issue.</p>
</section>
<section id="irregular-netclient-restart-on-windows-2016-server">
<h3>Irregular netclient restart on Windows 2016 server<a class="headerlink" href="#irregular-netclient-restart-on-windows-2016-server" title="Permalink to this headline"></a></h3>
<p>There is one issue reported on Windows 2016 server.  The netclient restarted irregularly. The root cause is not identified. But as the feedback from the client, the issue can be fixed by disabling ISATAP adapter and 6to4 feature.</p>
<ul class="simple">
<li><p><cite>Set-Net6to4configuration -state disabled</cite></p></li>
<li><p><cite>Set-Netisatapconfiguration -state disabled</cite></p></li>
<li><p><cite>Set-NetTeredoConfiguration -type disabled</cite></p></li>
</ul>
</section>
<section id="event-id-0-in-windows-event-logs">
<h3>Event id 0 in Windows Event logs<a class="headerlink" href="#event-id-0-in-windows-event-logs" title="Permalink to this headline"></a></h3>
<p>netclient service is delegated to Winsw on Windows. An issue is reported that the stop/start/restart events in Event logs show event id as 0 always. It does not impact any netclient functions.</p>
</section>
</section>
<section id="modes-and-system-compatibility">
<h2>Modes and System Compatibility<a class="headerlink" href="#modes-and-system-compatibility" title="Permalink to this headline"></a></h2>
<p><strong>Note: If you would like to connect non-Linux/Unix machines to your network such as phones and Windows desktops, please see the documentation on Remote Access Clients(previously External Clients)</strong></p>
<p>The netclient can be run in a few “modes”. System compatibility depends on which modes you intend to use. These modes can be mixed and matched across a network, meaning all machines do not have to run with the same “mode.”</p>
<section id="cli">
<h3>CLI<a class="headerlink" href="#cli" title="Permalink to this headline"></a></h3>
<p>In its simplest form, the netclient can be treated as just a simple, manual, CLI tool, which a user can call to configure the machine. The cli can be compiled from source code to run on most systems, and has already been compiled for x86 and ARM architectures.</p>
<p>As a CLI, the netclient should function on any Linux or Unix based system that has the wireguard utility (callable with <strong>wg</strong>) installed.</p>
</section>
<section id="daemon">
<h3>Daemon<a class="headerlink" href="#daemon" title="Permalink to this headline"></a></h3>
<p>The netclient is intended to be run as a system daemon. This allows it to automatically retrieve and send updates. To do this, the netclient can install itself as a systemd service, or launchd/windows service for Mac or Windows.</p>
<p>If running the netclient on non-systemd linux, it is recommended to manually configure the netclient as a daemon using whatever method is acceptable on the chosen operating system.</p>
</section>
<section id="private-dns-management">
<h3>Private DNS Management<a class="headerlink" href="#private-dns-management" title="Permalink to this headline"></a></h3>
<p>To manage private DNS, the netclient relies on systemd-resolved (resolvectl). Absent this, it cannot set private DNS for the machine.</p>
<p>A user may choose to manually set a private DNS nameserver of &lt;netmaker server&gt;:53. However, beware, as netmaker sets split dns, and the system must be configured properly. Otherwise, this nameserver may break your local DNS.</p>
</section>
</section>
<section id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline"></a></h2>
<p>To obtain the netclient, go to the GitHub releases: <a class="reference external" href="https://github.com/gravitl/netclient/releases">https://github.com/gravitl/netclient/releases</a></p>
<p><strong>For netclient cli:</strong> Linux/Unix with WireGuard installed (wg command available)</p>
<p><strong>For netclient daemon:</strong> Systemd Linux + WireGuard</p>
<p><strong>For Private DNS management:</strong> Resolvectl (systemd-resolved)</p>
</section>
<section id="configuration">
<h2>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline"></a></h2>
<p>The CLI has information about all commands and variables. This section shows the “help” output for these commands as well as some additional reference.</p>
<section id="cli-reference">
<h3>CLI Reference<a class="headerlink" href="#cli-reference" title="Permalink to this headline"></a></h3>
<p><code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">netclient</span> <span class="pre">--help</span></code></p>
<div class="highlight-YAML notranslate"><div class="highlight"><pre><span></span><span class="nt">NAME</span><span class="p">:</span><span class="w"></span>
<span class="w">   </span><span class="l l-Scalar l-Scalar-Plain">Netclient CLI - Netmaker&#39;s netclient agent and CLI. Used to perform interactions with Netmaker server and set local WireGuard config.</span><span class="w"></span>

<span class="nt">USAGE</span><span class="p">:</span><span class="w"></span>
<span class="w">   </span><span class="l l-Scalar l-Scalar-Plain">netclient [command]</span><span class="w"></span>

<span class="nt">COMMANDS</span><span class="p">:</span><span class="w"></span>
<span class="w">   </span><span class="l l-Scalar l-Scalar-Plain">completion  Generate the autocompletion script for the specified shell</span><span class="w"></span>
<span class="w">   </span><span class="l l-Scalar l-Scalar-Plain">connect     connect to a netmaker network</span><span class="w"></span>
<span class="w">   </span><span class="l l-Scalar l-Scalar-Plain">daemon      netclient daemon</span><span class="w"></span>
<span class="w">   </span><span class="l l-Scalar l-Scalar-Plain">disconnect  disconnet from a network</span><span class="w"></span>
<span class="w">   </span><span class="l l-Scalar l-Scalar-Plain">help        Help about any command</span><span class="w"></span>
<span class="w">   </span><span class="l l-Scalar l-Scalar-Plain">install     install netclient binary and daemon</span><span class="w"></span>
<span class="w">   </span><span class="l l-Scalar l-Scalar-Plain">join        join a network</span><span class="w"></span>
<span class="w">   </span><span class="l l-Scalar l-Scalar-Plain">leave       leave a network</span><span class="w"></span>
<span class="w">   </span><span class="l l-Scalar l-Scalar-Plain">list        display list of netmaker networks</span><span class="w"></span>
<span class="w">   </span><span class="l l-Scalar l-Scalar-Plain">pull        get the latest host configuration</span><span class="w"></span>
<span class="w">   </span><span class="l l-Scalar l-Scalar-Plain">push        push host config to server</span><span class="w"></span>
<span class="w">   </span><span class="l l-Scalar l-Scalar-Plain">register    register to a Netmaker instance</span><span class="w"></span>
<span class="w">   </span><span class="l l-Scalar l-Scalar-Plain">server      server commands [list, switch, leave]</span><span class="w"></span>
<span class="w">   </span><span class="l l-Scalar l-Scalar-Plain">uninstall   uninstall netclient</span><span class="w"></span>
<span class="w">   </span><span class="l l-Scalar l-Scalar-Plain">use         use a specific version of netclient</span><span class="w"></span>
<span class="w">   </span><span class="l l-Scalar l-Scalar-Plain">version     Displays version information</span><span class="w"></span>

<span class="nt">Flags</span><span class="p">:</span><span class="w"></span>
<span class="w">   </span><span class="l l-Scalar l-Scalar-Plain">-h, --help            help for netclient</span><span class="w"></span>
<span class="w">   </span><span class="l l-Scalar l-Scalar-Plain">-v, --verbosity int   set logging verbosity 0-4</span><span class="w"></span>

<span class="l l-Scalar l-Scalar-Plain">Use &quot;netclient [command] --help&quot; for more information about a command.</span><span class="w"></span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">netclient</span> <span class="pre">join</span> <span class="pre">--help</span></code></p>
<div class="highlight-YAML notranslate"><div class="highlight"><pre><span></span><span class="nt">join a netmaker network using</span><span class="p">:</span><span class="w"></span>

<span class="nt">token</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">netclient join -t &lt;token&gt; // join using token</span><span class="w"></span>
<span class="nt">server</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">netclient join -s &lt;server&gt; // join a specific server via SSO if Oauth configured</span><span class="w"></span>
<span class="nt">net</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">netclient join -s &lt;server&gt; -n &lt;net&gt; // attempt to join specified network via auth</span><span class="w"></span>
<span class="nt">all-networks</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">netclient join -s &lt;server&gt; -A // attempt to register to all allowed networks on given server via auth</span><span class="w"></span>
<span class="nt">user</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">netclient join -s &lt;server&gt; -u &lt;user_name&gt; // attempt to join/register via basic auth</span><span class="w"></span>

<span class="nt">NAME</span><span class="p">:</span><span class="w"></span>
<span class="w">   </span><span class="l l-Scalar l-Scalar-Plain">netclient join - Join a Netmaker network.</span><span class="w"></span>

<span class="nt">USAGE</span><span class="p">:</span><span class="w"></span>
<span class="w">   </span><span class="l l-Scalar l-Scalar-Plain">netclient join [flags]</span><span class="w"></span>

<span class="nt">OPTIONS</span><span class="p">:</span><span class="w"></span>
<span class="w">   </span><span class="l l-Scalar l-Scalar-Plain">-A, --all-networks         attempts to join/register to all available networks to user</span><span class="w"></span>
<span class="w">   </span><span class="l l-Scalar l-Scalar-Plain">-e, --endpoint-ip string   sets endpoint on host</span><span class="w"></span>
<span class="w">   </span><span class="l l-Scalar l-Scalar-Plain">-h, --help                 help for join</span><span class="w"></span>
<span class="w">   </span><span class="l l-Scalar l-Scalar-Plain">-m, --mtu string           sets MTU on host</span><span class="w"></span>
<span class="w">   </span><span class="l l-Scalar l-Scalar-Plain">-o, --name string          sets host name</span><span class="w"></span>
<span class="w">   </span><span class="l l-Scalar l-Scalar-Plain">-n, --net string           network to attempt to join/register to</span><span class="w"></span>
<span class="w">   </span><span class="l l-Scalar l-Scalar-Plain">-p, --port int             sets wg listen port</span><span class="w"></span>
<span class="w">   </span><span class="l l-Scalar l-Scalar-Plain">-s, --server string        server for attempting SSO/Auth registration</span><span class="w"></span>
<span class="w">   </span><span class="l l-Scalar l-Scalar-Plain">-i, --static               flag to set host as static</span><span class="w"></span>
<span class="w">   </span><span class="l l-Scalar l-Scalar-Plain">-t, --token string         enrollment token for joining/registering</span><span class="w"></span>
<span class="w">   </span><span class="l l-Scalar l-Scalar-Plain">-u, --user string          user name for attempting Basic Auth join/registration</span><span class="w"></span>

<span class="nt">GLOBAL OPTIONS</span><span class="p">:</span><span class="w"></span>
<span class="w">   </span><span class="l l-Scalar l-Scalar-Plain">-v, --verbosity int   set logging verbosity 0-4</span><span class="w"></span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">netclient</span> <span class="pre">push</span> <span class="pre">--help</span></code></p>
<div class="highlight-YAML notranslate"><div class="highlight"><pre><span></span><span class="nt">push netclient host configuration using</span><span class="p">:</span><span class="w"></span>

<span class="nt">NAME</span><span class="p">:</span><span class="w"></span>
<span class="w">   </span><span class="l l-Scalar l-Scalar-Plain">netclient push - Pushes custom host configuration.</span><span class="w"></span>

<span class="nt">USAGE</span><span class="p">:</span><span class="w"></span>
<span class="w">   </span><span class="l l-Scalar l-Scalar-Plain">netclient push [flags]</span><span class="w"></span>

<span class="nt">OPTIONS</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">-e, --endpoint-ip string   sets endpoint on host</span><span class="w"></span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">-h, --help                 help for push</span><span class="w"></span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">-m, --mtu int              sets MTU on host</span><span class="w"></span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">-o, --name string          sets host name</span><span class="w"></span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">-p, --port int             sets wg listen port</span><span class="w"></span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">-i, --static               flag to set host as static</span><span class="w"></span>

<span class="nt">GLOBAL OPTIONS</span><span class="p">:</span><span class="w"></span>
<span class="w">   </span><span class="l l-Scalar l-Scalar-Plain">-v, --verbosity int   set logging verbosity 0-4</span><span class="w"></span>
</pre></div>
</div>
</section>
</section>
<section id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline"></a></h2>
<p>To install netclient and join a network, you need to use <code class="docutils literal notranslate"><span class="pre">netclient</span> <span class="pre">install</span></code> command and get an enrollment key for a particular network from netmaker.</p>
<p>An admin creates an enrollment key in the “Enrollment Keys” section of the UI. Upon creating a key, it can be viewed by clicking onto the key from UI. Some details regarding the key will be visible:</p>
<p><strong>Key:</strong> The enrollment key to join and authenticate to a netmaker network</p>
<p><strong>Type:</strong> Type of key determines the usage limitation of a particular key. Possible values are: Unlimited, Time Bound, Limited Number of Uses</p>
<p><strong>Expires at:</strong> Shows the expiration date of the particular enrollment key</p>
<p><strong>Networks:</strong> Shows which netmaker networks can be joined by using the particular enrollment key</p>
<p><strong>Install Command:</strong> The CLI command to register with the server using the enrollment key, and join the networks</p>
<p>For first time installations, you can run the Install Command. For additional networks, simply run <code class="docutils literal notranslate"><span class="pre">netclient</span> <span class="pre">join</span> <span class="pre">-t</span> <span class="pre">&lt;enrollment</span> <span class="pre">key&gt;</span></code>.</p>
</section>
<section id="managing-netclient">
<h2>Managing Netclient<a class="headerlink" href="#managing-netclient" title="Permalink to this headline"></a></h2>
<section id="connect-disconnect">
<h3>Connect / Disconnect<a class="headerlink" href="#connect-disconnect" title="Permalink to this headline"></a></h3>
<dl class="simple">
<dt><strong>to disconnect from a network previously joined (without leaving the network):</strong></dt><dd><p><code class="docutils literal notranslate"><span class="pre">netclient</span> <span class="pre">disconnect</span> <span class="pre">&lt;network&gt;</span></code></p>
</dd>
<dt><strong>to connect with a network previously disconnected:</strong></dt><dd><p><code class="docutils literal notranslate"><span class="pre">netclient</span> <span class="pre">connect</span> <span class="pre">&lt;network&gt;</span></code></p>
</dd>
</dl>
</section>
<section id="viewing-logs">
<h3>Viewing Logs<a class="headerlink" href="#viewing-logs" title="Permalink to this headline"></a></h3>
<dl class="simple">
<dt><strong>to view current networks</strong></dt><dd><p><code class="docutils literal notranslate"><span class="pre">netclient</span> <span class="pre">list</span></code></p>
</dd>
<dt><strong>to tail logs</strong></dt><dd><p><code class="docutils literal notranslate"><span class="pre">journalctl</span> <span class="pre">-u</span> <span class="pre">netclient</span></code></p>
</dd>
<dt><strong>to get most recent log run</strong></dt><dd><p><code class="docutils literal notranslate"><span class="pre">systemctl</span> <span class="pre">status</span> <span class="pre">netclient</span></code></p>
</dd>
</dl>
</section>
<section id="re-syncing-netclient-basic-troubleshooting">
<h3>Re-syncing netclient (basic troubleshooting)<a class="headerlink" href="#re-syncing-netclient-basic-troubleshooting" title="Permalink to this headline"></a></h3>
<p>If the daemon is not running correctly, try restarting the daemon, or pulling changes directly (don’t do both at once)</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">systemctl</span> <span class="pre">restart</span> <span class="pre">netclient</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">netclient</span> <span class="pre">pull</span></code></p>
</div></blockquote>
</section>
<section id="adding-removing-networks">
<h3>Adding/Removing Networks<a class="headerlink" href="#adding-removing-networks" title="Permalink to this headline"></a></h3>
<p><code class="docutils literal notranslate"><span class="pre">netclient</span> <span class="pre">join</span> <span class="pre">-t</span> <span class="pre">&lt;enrollment</span> <span class="pre">key&gt;</span></code></p>
<p>Set any of the above flags (netclient join –help) to override settings for joining the network.</p>
</section>
<section id="uninstalling">
<h3>Uninstalling<a class="headerlink" href="#uninstalling" title="Permalink to this headline"></a></h3>
<p><code class="docutils literal notranslate"><span class="pre">netclient</span> <span class="pre">uninstall</span></code></p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="netclient.html" class="btn btn-neutral float-left" title="Netclient" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="server-installation.html" class="btn btn-neutral float-right" title="Advanced Server Installation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Netmaker Inc..</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>